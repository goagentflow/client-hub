<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <title>AgentFlow Client Hub - Client Portal</title>
    <meta name="description" content="Access your AgentFlow proposal and collaborate with us through your personalized client portal." />
    <meta name="author" content="AgentFlow" />

    <meta property="og:title" content="AgentFlow Client Hub - Client Portal" />
    <meta property="og:description" content="Access your AgentFlow proposal and collaborate with us through your personalized client portal." />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://www.goagentflow.com/assets/images/AgentFlowLogo.svg" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@AgentFlow" />
    <meta name="twitter:image" content="https://www.goagentflow.com/assets/images/AgentFlowLogo.svg" />

    <!-- Consent management (non-essential tags are blocked pre-consent) -->
    <script type="text/javascript" src="https://app.termly.io/embed.min.js" data-auto-block="on" data-website-uuid="dc7c6ad3-3c44-4541-b5e2-146d10618f63"></script>

    <!-- Google tag (GA4) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-LHY2J56X46"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      window.gtag = gtag;
      gtag('js', new Date());
      gtag('consent', 'default', {
        ad_storage: 'denied',
        analytics_storage: 'denied',
        ad_user_data: 'denied',
        ad_personalization: 'denied',
        functionality_storage: 'granted',
        security_storage: 'granted',
        wait_for_update: 500
      });

      function updateGoogleConsent(consentState) {
        const analyticsGranted = Boolean(consentState && consentState.analytics);
        gtag('consent', 'update', {
          ad_storage: analyticsGranted ? 'granted' : 'denied',
          analytics_storage: analyticsGranted ? 'granted' : 'denied',
          ad_user_data: analyticsGranted ? 'granted' : 'denied',
          ad_personalization: analyticsGranted ? 'granted' : 'denied'
        });
      }

      function bindTermlyConsent(attemptsLeft) {
        if (window.Termly && typeof window.Termly.on === 'function') {
          window.Termly.on('consent', function onConsent(data) {
            updateGoogleConsent(data && data.consentState ? data.consentState : null);
          });

          if (typeof window.Termly.getConsentState === 'function') {
            updateGoogleConsent(window.Termly.getConsentState());
          }
          return;
        }

        if (attemptsLeft > 0) {
          window.setTimeout(function retryTermlyBind() {
            bindTermlyConsent(attemptsLeft - 1);
          }, 250);
        }
      }

      bindTermlyConsent(20);

      gtag('config', 'G-LHY2J56X46', {
        send_page_view: false,
        anonymize_ip: true,
        allow_google_signals: false,
        allow_ad_personalization_signals: false
      });
    </script>
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
